/**
 * Matrix effect on a Canvas https://jcubic.github.io/cmatrix/
 *
 * Copyright (c) 2021-2023 Jakub T. Jankiewicz <https://jcubic.pl/me>
 * Released under MIT license
 *
 * The code was started at this Codepen https://codepen.io/jcubic/pen/rNeNwgB
 * And was based on code by Michael Goodman https://codepen.io/goodmanmr1/pen/jpPeRR
 *
 * Build: Tue, 14 May 2024 23:09:03 GMT
 */
var t=i(12449,12534),e=i(12353,12438);class n{constructor(n,{chars:s=null,font_size:i=14,width:r,height:o,font:h="monospace",color:a,background:c}={}){this._canvas=n,this._canvas._matrix&&(this._canvas._matrix.stop(),this._canvas._matrix.clear()),this._canvas._matrix=this,this._ctx=n.getContext("2d"),this._font_size=i,this._drops=[],this._color=a,this._background=c,this._font=h,this._chars=s||t.concat(e),this.resize(r,o)}random_char(){return(t=this._chars)[Math.floor(Math.random()*t.length)];var t}render_char(t,e,n){this._ctx.fillText(t,e,n)}start(){if(this._run)return;let t=0;this._run=!0;const e=this;!function n(){e._run&&(t++%2==0&&e.render(),requestAnimationFrame(n))}()}stop(){this._run=!1}reset(){for(let t=0;t<this._columns;t++)this._drops[t]=255}resize(t,e){this._width=t,this._height=e,this.clear(),this._canvas.width=t,setTimeout((()=>{this._canvas.height=e,this.reset()}),0),this._columns=Math.round(t/this._font_size)}clear(){this._ctx.fillStyle=this._background,this._ctx.fillRect(0,0,this._width,this._height),this._ctx.fillStyle=this._color,this._ctx.font=this._font_size+"px "+this._font}fullscreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}render(){this.clear();for(let t=0;t<this._drops.length;t++){const e=this.random_char(),n=t*this._font_size,s=this._drops[t]*this._font_size;this.render_char(e,n,s),s>this._height&&Math.random()>.975&&(this._drops[t]=0),this._drops[t]++}}}function s(t,{chars:e=null,font_size:s=14,exit:i=!0,font:h="monospace",width:a=null,height:c=null,resize:_=!0,color:l="#0F0",mount:d=(()=>{}),unmount:u=(()=>{}),background:f="rgba(0, 0,0,0.05)"}={}){const m=new n(t,{font_size:s,chars:e,font:h,color:l,background:f,width:a??r(),height:c??o()});let g;if(_&&(g=()=>m.resize(r(),o()),window.addEventListener("resize",g),screen?.orientation&&screen.orientation.addEventListener("change",g)),t.classList.add("running"),m.start(),d(m),i)return new Promise((e=>{window.addEventListener("keydown",(n=>{var s=n.key.toLowerCase();"q"!==s&&"escape"!==s||(m.stop(),t.classList.remove("running"),g&&(window.removeEventListener("resize",g),screen?.orientation&&screen.orientation.removeEventListener("change",g)),setTimeout((()=>{u(m),e()}),0))}))}))}function i(t,e){for(var n=[],s=t;s<=e;++s)n.push(String.fromCharCode(s));return n}function r(){return window.innerWidth}function o(){return window.innerHeight}s.range=i,s.custom_chars=s.range(48,53).concat(s.range(55,57)).concat(((...t)=>t.map((t=>String.fromCharCode(t))))(9642,9548,169,166,124,122,62,60,58,34,42,43,12450,12454,12456,12458,12459,12461,12465,12467,12469,12471,12473,12475,12477,12479,12484,12486,12490,12491,12492,12493,12495,12498,12507,12510,12511,12512,12513,12514,12516,12520,12521,12522,12527,12540,42890,59703));export{s as default};
//# sourceMappingURL=matrix.mjs.map
