/**
 * Matrix effect on a Canvas https://jcubic.github.io/cmatrix/
 *
 * Copyright (c) 2021-2023 Jakub T. Jankiewicz <https://jcubic.pl/me>
 * Released under MIT license
 *
 * The code was started at this Codepen https://codepen.io/jcubic/pen/rNeNwgB
 * And was based on code by Michael Goodman https://codepen.io/goodmanmr1/pen/jpPeRR
 *
 * Build: Wed, 20 Sep 2023 17:17:42 GMT
 */
var t=i(12449,12534),e=i(12353,12438);class n{constructor(n,{chars:s=null,font_size:i=14,width:r,height:o,font:h="monospace",color:a,background:c}={}){this._canvas=n,this._canvas._matrix&&(this._canvas._matrix.stop(),this._canvas._matrix.clear()),this._canvas._matrix=this,this._ctx=n.getContext("2d"),this._font_size=i,this._drops=[],this._color=a,this._background=c,this._font=h,this._chars=s||t.concat(e),this.resize(r,o)}random_char(){return(t=this._chars)[Math.floor(Math.random()*t.length)];var t}render_char(t,e,n){this._ctx.fillText(t,e,n)}start(){if(this._run)return;let t=0;this._run=!0;const e=this;!function n(){e._run&&(t++%2==0&&e.render(),requestAnimationFrame(n))}()}stop(){this._run=!1}reset(){for(let t=0;t<this._columns;t++)this._drops[t]=255}resize(t,e){this._width=t,this._height=e,this.clear(),this._canvas.width=t,setTimeout((()=>{this._canvas.height=e,this.reset()}),0),this._columns=Math.round(t/this._font_size)}clear(){this._ctx.fillStyle=this._background,this._ctx.fillRect(0,0,this._width,this._height),this._ctx.fillStyle=this._color,this._ctx.font=this._font_size+"px "+this._font}fullscreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}render(){this.clear();for(let t=0;t<this._drops.length;t++){const e=this.random_char(),n=t*this._font_size,s=this._drops[t]*this._font_size;this.render_char(e,n,s),s>this._height&&Math.random()>.975&&(this._drops[t]=0),this._drops[t]++}}}function s(t,{chars:e=null,font_size:s=14,exit:i=!0,font:h="monospace",color:a="#0F0",mount:c=(()=>{}),unmount:_=(()=>{}),background:d="rgba(0, 0,0,0.05)"}={}){const u=new n(t,{font_size:s,chars:e,font:h,color:a,background:d,width:r(),height:o()}),l=()=>u.resize(r(),o());if(window.addEventListener("resize",l),screen?.orientation&&screen.orientation.addEventListener("change",l),t.classList.add("running"),u.start(),c(u),i)return new Promise((e=>{window.addEventListener("keydown",(n=>{var s=n.key.toLowerCase();"q"!==s&&"escape"!==s||(u.stop(),t.classList.remove("running"),window.removeEventListener("resize",l),resizeObserver.unobserve(t),screen?.orientation&&screen.orientation.removeEventListener("change",l),setTimeout((()=>{_(u),e()}),0))}))}))}function i(t,e){for(var n=[],s=t;s<=e;++s)n.push(String.fromCharCode(s));return n}function r(){return window.innerWidth}function o(){return window.innerHeight}s.range=i;export{s as default};
